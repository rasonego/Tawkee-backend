{"openapi":"3.0.0","paths":{"/v2/workspaces":{"get":{"operationId":"WorkspacesController_findAll","parameters":[],"responses":{"200":{"description":"Returns a list of workspaces (their ids and names)","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WorkspaceDto"}}}}}},"security":[{"bearer":[]}],"summary":"List all workspaces","tags":["Workspaces"]}},"/v2/workspaces/{workspaceId}/credits":{"get":{"operationId":"WorkspacesController_getCredits","parameters":[{"name":"workspaceId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns the amount of credits (integer) and subscription status","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkspaceCreditsDto"}}}}},"security":[{"bearer":[]}],"summary":"Get workspace credits","tags":["Workspaces"]}},"/v2/workspace/{workspaceId}/agents":{"get":{"operationId":"AgentsController_findAll","parameters":[{"name":"workspaceId","required":true,"in":"path","description":"Workspace ID","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number, starts from 1","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"pageSize","required":false,"in":"query","description":"Number of items per page","schema":{"minimum":1,"default":10,"example":10,"type":"number"}},{"name":"query","required":false,"in":"query","description":"Search query string","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns the list of agents","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AgentDto"}}}}}},"security":[{"bearer":[]}],"summary":"List agents in a workspace","tags":["Agents"]},"post":{"operationId":"AgentsController_create","parameters":[{"name":"workspaceId","required":true,"in":"path","description":"Workspace ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAgentDto"}}}},"responses":{"200":{"description":"Returns the created agent","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentDto"}}}}},"security":[{"bearer":[]}],"summary":"Create a new agent","tags":["Agents"]}},"/v2/agent/{agentId}":{"get":{"operationId":"AgentsController_findOne","parameters":[{"name":"agentId","required":true,"in":"path","description":"Agent ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns agent data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentDto"}}}}},"security":[{"bearer":[]}],"summary":"Get agent by ID","tags":["Agents"]},"put":{"operationId":"AgentsController_update","parameters":[{"name":"agentId","required":true,"in":"path","description":"Agent ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAgentDto"}}}},"responses":{"200":{"description":"Returns all current data of the updated agent","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentDto"}}}}},"security":[{"bearer":[]}],"summary":"Update an agent","tags":["Agents"]},"delete":{"operationId":"AgentsController_remove","parameters":[{"name":"agentId","required":true,"in":"path","description":"Agent ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns whether the operation was successful or not","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true}}}}}}},"security":[{"bearer":[]}],"summary":"Delete an agent","tags":["Agents"]}},"/v2/agent/{agentId}/inactive":{"put":{"operationId":"AgentsController_deactivate","parameters":[{"name":"agentId","required":true,"in":"path","description":"Agent ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns whether the action was successful or not","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true}}}}}}},"security":[{"bearer":[]}],"summary":"Deactivate an agent","tags":["Agents"]}},"/v2/agent/{agentId}/active":{"put":{"operationId":"AgentsController_activate","parameters":[{"name":"agentId","required":true,"in":"path","description":"Agent ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns whether the action was successful or not","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true}}}}}}},"security":[{"bearer":[]}],"summary":"Activate an agent","tags":["Agents"]}},"/v2/agent/{agentId}/credits-spent":{"get":{"operationId":"AgentsController_getCreditsSpent","parameters":[{"name":"agentId","required":true,"in":"path","description":"Agent ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns the total spent credits and a list of spent credits per date per model","content":{"application/json":{"schema":{"type":"object","properties":{"total":{"type":"number","example":123},"data":{"type":"array","items":{"type":"object","properties":{"credits":{"type":"number","example":123},"year":{"type":"number","example":2023},"month":{"type":"number","example":7},"day":{"type":"number","example":15},"model":{"type":"string","example":"GPT_4"}}}}}}}}}},"security":[{"bearer":[]}],"summary":"Get agent credits spent","tags":["Agents"]}},"/v2/agent/{agentId}/settings":{"get":{"operationId":"AgentSettingsController_getSettings","parameters":[{"name":"agentId","required":true,"in":"path","description":"Agent ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Return current settings of existing agent","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentSettingsDto"}}}}},"security":[{"bearer":[]}],"summary":"Get agent settings","tags":["Agent Settings"]},"put":{"operationId":"AgentSettingsController_updateSettings","parameters":[{"name":"agentId","required":true,"in":"path","description":"Agent ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentSettingsDto"}}}},"responses":{"200":{"description":"Return whether the action was successful or not","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true}}}}}}},"security":[{"bearer":[]}],"summary":"Update agent settings","tags":["Agent Settings"]}},"/v2/agent/{agentId}/webhooks":{"get":{"operationId":"AgentWebhooksController_getWebhooks","parameters":[{"name":"agentId","required":true,"in":"path","description":"Agent ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns webhook URLs","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentWebhooksDto"}}}}},"security":[{"bearer":[]}],"summary":"Get agent webhooks","tags":["Agent Webhooks"]},"put":{"operationId":"AgentWebhooksController_updateWebhooks","parameters":[{"name":"agentId","required":true,"in":"path","description":"Agent ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentWebhooksDto"}}}},"responses":{"200":{"description":"Returns whether the action succeeded or failed","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true}}}}}}},"security":[{"bearer":[]}],"summary":"Update agent webhooks","tags":["Agent Webhooks"]}},"/v2/agent/{agentId}/trainings":{"get":{"operationId":"TrainingsController_findAll","parameters":[{"name":"agentId","required":true,"in":"path","description":"Agent ID","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number, starts from 1","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"pageSize","required":false,"in":"query","description":"Number of items per page","schema":{"minimum":1,"default":10,"example":10,"type":"number"}},{"name":"query","required":false,"in":"query","description":"Search query string","schema":{"type":"string"}},{"name":"type","required":false,"in":"query","description":"Filter by training type","schema":{"enum":["TEXT","WEBSITE","VIDEO","DOCUMENT"],"type":"string"}}],"responses":{"200":{"description":"Returns a list of training material"}},"security":[{"bearer":[]}],"summary":"List agent trainings","tags":["Trainings"]},"post":{"operationId":"TrainingsController_create","parameters":[{"name":"agentId","required":true,"in":"path","description":"Agent ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTrainingDto"}}}},"responses":{"200":{"description":"Returns whether the training was successful or not","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true}}}}}},"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Create a new training","tags":["Trainings"]}},"/v2/training/{trainingId}":{"put":{"operationId":"TrainingsController_update","parameters":[{"name":"trainingId","required":true,"in":"path","description":"Training ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTrainingDto"}}}},"responses":{"200":{"description":"Returns whether the update was successful or not","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true}}}}}}},"security":[{"bearer":[]}],"summary":"Update a training","tags":["Trainings"]},"delete":{"operationId":"TrainingsController_remove","parameters":[{"name":"trainingId","required":true,"in":"path","description":"Training ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns whether the operation was successful or not","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true}}}}}}},"security":[{"bearer":[]}],"summary":"Remove a training","tags":["Trainings"]}},"/v2/agent/{agentId}/intentions":{"get":{"operationId":"IntentionsController_findAll","parameters":[{"name":"agentId","required":true,"in":"path","description":"Agent ID","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number, starts from 1","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"pageSize","required":false,"in":"query","description":"Number of items per page","schema":{"minimum":1,"default":10,"example":10,"type":"number"}},{"name":"query","required":false,"in":"query","description":"Search query string","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns a list of intentions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedIntentionsResponseDto"}}}},"404":{"description":"Agent not found"}},"security":[{"bearer":[]}],"summary":"List agent intentions","tags":["Intentions"]},"post":{"operationId":"IntentionsController_create","parameters":[{"name":"agentId","required":true,"in":"path","description":"Agent ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateIntentionDto"}}}},"responses":{"201":{"description":"Returns the created intention","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IntentionDto"}}}},"400":{"description":"Invalid input"},"404":{"description":"Agent not found"}},"security":[{"bearer":[]}],"summary":"Create a new intention","tags":["Intentions"]}},"/v2/agent/{agentId}/conversation":{"post":{"operationId":"ConversationsController_converse","parameters":[{"name":"agentId","required":true,"in":"path","description":"Agent ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConversationDto"}}}},"responses":{"200":{"description":"Returns the response via text, and may include an array of images and/or audios","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Hello! How can I help you today?"},"images":{"type":"array","items":{"type":"string"},"example":["https://example.com/image1.jpg","https://example.com/image2.jpg"]},"audios":{"type":"array","items":{"type":"string"},"example":["https://example.com/audio1.mp3","https://example.com/audio2.mp3"]}}}}}},"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Start or continue a conversation with an agent","tags":["Conversations"]}},"/v2/agent/{agentId}/add-message":{"post":{"operationId":"ConversationsController_addMessage","parameters":[{"name":"agentId","required":true,"in":"path","description":"Agent ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns the response via text, and may include an array of images and/or audios","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Message added to the conversation"},"images":{"type":"array","items":{"type":"string"},"example":[]},"audios":{"type":"array","items":{"type":"string"},"example":[]}}}}}},"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Add a message to an existing conversation","tags":["Conversations"]}},"/v2/agent/{agentId}/search":{"get":{"operationId":"ChannelsController_findAll","parameters":[{"name":"agentId","required":true,"in":"path","description":"The ID of the agent","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number, starts from 1","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"pageSize","required":false,"in":"query","description":"Number of items per page","schema":{"minimum":1,"default":10,"example":10,"type":"number"}},{"name":"query","required":false,"in":"query","description":"Search query string","schema":{"type":"string"}}],"responses":{"200":{"description":"Channels retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedChannelsResponseDto"}}}},"404":{"description":"Agent not found"}},"security":[{"bearer":[]}],"summary":"List channels for an agent","tags":["Channels"]}},"/v2/agent/{agentId}/create-channel":{"post":{"operationId":"ChannelsController_create","parameters":[{"name":"agentId","required":true,"in":"path","description":"The ID of the agent","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateChannelDto"}}}},"responses":{"201":{"description":"Channel created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChannelDto"}}}},"400":{"description":"Invalid input"},"404":{"description":"Agent not found"}},"security":[{"bearer":[]}],"summary":"Create a new channel for an agent","tags":["Channels"]}},"/v2/health":{"get":{"operationId":"HealthController_check","parameters":[],"responses":{"200":{"description":""}},"tags":["Health"]}}},"info":{"title":"Tawkee API","description":"The Tawkee API for WhatsApp automation with AI","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"WorkspaceDto":{"type":"object","properties":{"id":{"type":"string","description":"Workspace unique identifier","example":"123e4567-e89b-12d3-a456-426614174000"},"name":{"type":"string","description":"Workspace name","example":"My Workspace"}},"required":["id","name"]},"WorkspaceCreditsDto":{"type":"object","properties":{"credits":{"type":"number","description":"Number of credits available","example":1000},"status":{"type":"string","description":"Subscription status","enum":["TRIAL","ACTIVE","PAST_DUE","CANCELED"],"example":"ACTIVE"}},"required":["credits","status"]},"AgentDto":{"type":"object","properties":{"id":{"type":"string","description":"Agent unique identifier","example":"123e4567-e89b-12d3-a456-426614174000"},"workspaceId":{"type":"string","description":"Workspace ID this agent belongs to","example":"123e4567-e89b-12d3-a456-426614174001"},"name":{"type":"string","description":"Agent name","example":"Support Assistant"},"behavior":{"type":"string","description":"Agent behavior description","example":"Friendly and helpful support assistant that answers customer inquiries."},"avatar":{"type":"string","description":"Agent avatar URL","example":"https://example.com/avatar.jpg"},"communicationType":{"type":"string","description":"Agent communication type","enum":["FORMAL","NORMAL","RELAXED"],"example":"NORMAL"},"type":{"type":"string","description":"Agent type","enum":["SUPPORT","SALE","PERSONAL"],"example":"SUPPORT"},"jobName":{"type":"string","description":"Agent job name","example":"Customer Support"},"jobSite":{"type":"string","description":"Agent job site","example":"https://example.com"},"jobDescription":{"type":"string","description":"Agent job description","example":"Handles customer inquiries and provides technical support."}},"required":["id","workspaceId","name","behavior","communicationType","type"]},"CreateAgentDto":{"type":"object","properties":{"name":{"type":"string","description":"Agent name","example":"Support Assistant"},"behavior":{"type":"string","description":"Agent behavior description","example":"Friendly and helpful support assistant that answers customer inquiries."},"avatar":{"type":"string","description":"Agent avatar URL","example":"https://example.com/avatar.jpg"},"communicationType":{"type":"string","description":"Agent communication type","enum":["FORMAL","NORMAL","RELAXED"],"example":"NORMAL"},"type":{"type":"string","description":"Agent type","enum":["SUPPORT","SALE","PERSONAL"],"example":"SUPPORT"},"jobName":{"type":"string","description":"Agent job name","example":"Customer Support"},"jobSite":{"type":"string","description":"Agent job site","example":"https://example.com"},"jobDescription":{"type":"string","description":"Agent job description","example":"Handles customer inquiries and provides technical support."}},"required":["name","behavior","communicationType","type"]},"UpdateAgentDto":{"type":"object","properties":{"name":{"type":"string","description":"Agent name","example":"Support Assistant"},"behavior":{"type":"string","description":"Agent behavior description","example":"Friendly and helpful support assistant that answers customer inquiries."},"avatar":{"type":"string","description":"Agent avatar URL","example":"https://example.com/avatar.jpg"},"communicationType":{"type":"string","description":"Agent communication type","enum":["FORMAL","NORMAL","RELAXED"],"example":"NORMAL"},"type":{"type":"string","description":"Agent type","enum":["SUPPORT","SALE","PERSONAL"],"example":"SUPPORT"},"jobName":{"type":"string","description":"Agent job name","example":"Customer Support"},"jobSite":{"type":"string","description":"Agent job site","example":"https://example.com"},"jobDescription":{"type":"string","description":"Agent job description","example":"Handles customer inquiries and provides technical support."}},"required":["name","behavior","communicationType","type"]},"AgentSettingsDto":{"type":"object","properties":{"preferredModel":{"type":"string","description":"Preferred AI model","enum":["GPT_4_1","GPT_4_1_MINI","GPT_4_O_MINI","GPT_4_O","OPEN_AI_O3_MINI","OPEN_AI_O4_MINI","OPEN_AI_O3","OPEN_AI_O1","GPT_4","CLAUDE_3_5_SONNET","CLAUDE_3_7_SONNET","CLAUDE_3_5_HAIKU","DEEPINFRA_LLAMA3_3","QWEN_2_5_MAX","DEEPSEEK_CHAT","SABIA_3"],"example":"GPT_4_1"},"timezone":{"type":"string","description":"Agent timezone","example":'(GMT+00:00) London'},"enabledHumanTransfer":{"type":"boolean","description":"Defines if the agent can transfer to human during chat","example":true},"enabledReminder":{"type":"boolean","description":"Defines if the agent can schedule reminders","example":true},"splitMessages":{"type":"boolean","description":"Defines if the message will be split in various, in case it is huge","example":true},"enabledEmoji":{"type":"boolean","description":"Defines if the agent can use emoji on the messages","example":true},"limitSubjects":{"type":"boolean","description":"Defines if the agent can talk about other subjects rather than the company or product subject","example":true},"messageGroupingTime":{"type":"string","description":"Message grouping time setting","enum":["NO_GROUP","FIVE_SEC","TEN_SEC","THIRD_SEC","ONE_MINUTE"],"example":"NO_GROUP"}},"required":["preferredModel","timezone","enabledHumanTransfer","enabledReminder","splitMessages","enabledEmoji","limitSubjects","messageGroupingTime"]},"AgentWebhooksDto":{"type":"object","properties":{"onNewMessage":{"type":"string","nullable":true,"format":"uri","description":"URL to call when a new message arrives","example":"https://example.com/webhook/new-message"},"onLackKnowLedge":{"type":"string","nullable":true,"format":"uri","description":"URL to call when the agent lacks knowledge to answer","example":"https://example.com/webhook/lack-knowledge"},"onTransfer":{"type":"string","nullable":true,"format":"uri","description":"URL to call when the agent transfers to a human","example":"https://example.com/webhook/transfer"},"onFinishAttendance":{"type":"string","nullable":true,"format":"uri","description":"URL to call when an attendance is finished","example":"https://example.com/webhook/finish-attendance"}}},"CreateTrainingDto":{"type":"object","properties":{"type":{"type":"string","description":"Training type","enum":["TEXT","WEBSITE","VIDEO","DOCUMENT"],"example":"TEXT"},"text":{"type":"string","description":"Text content (for TEXT type)","example":"This is training content for the agent to learn from."},"image":{"type":"string","description":"Image URL (for TEXT type with image)","example":"https://example.com/image.jpg"},"website":{"type":"string","description":"Website URL (for WEBSITE type)","example":"https://example.com"},"trainingSubPages":{"type":"string","description":"Whether to train on sub-pages (for WEBSITE type)","example":"DISABLED"},"trainingInterval":{"type":"string","description":"Training interval (for WEBSITE type)","example":"ONE_DAY"},"video":{"type":"string","description":"Video URL (for VIDEO type)","example":"https://example.com/video.mp4"},"documentUrl":{"type":"string","description":"Document URL (for DOCUMENT type)","example":"https://example.com/document.pdf"},"documentName":{"type":"string","description":"Document name (for DOCUMENT type)","example":"product-manual.pdf"},"documentMimetype":{"type":"string","description":"Document MIME type (for DOCUMENT type)","example":"application/pdf"}},"required":["type"]},"UpdateTrainingDto":{"type":"object","properties":{"type":{"type":"string","description":"Training type (only TEXT type is allowed for updates)","enum":["TEXT"],"example":"TEXT"},"text":{"type":"string","description":"Text content","example":"This is updated training content for the agent to learn from."},"image":{"type":"string","description":"Image URL","example":"https://example.com/image.jpg"}},"required":["type","text"]},"IntentionFieldDto":{"type":"object","properties":{"name":{"type":"string","description":"Field name","example":"Customer Name"},"jsonName":{"type":"string","description":"Field name in JSON","example":"customerName"},"description":{"type":"string","description":"Field description","example":"The name of the customer"},"type":{"type":"string","description":"Field type","enum":["TEXT","URL","DATE_TIME","DATE","NUMBER","BOOLEAN"],"example":"TEXT"},"required":{"type":"boolean","description":"Whether the field is required","example":true}},"required":["name","jsonName","description","type","required"]},"IntentionHeaderDto":{"type":"object","properties":{"name":{"type":"string","description":"Header name","example":"Content-Type"},"value":{"type":"string","description":"Header value","example":"application/json"}},"required":["name","value"]},"IntentionParamDto":{"type":"object","properties":{"name":{"type":"string","description":"Parameter name","example":"apiKey"},"value":{"type":"string","description":"Parameter value","example":"1234567890"}},"required":["name","value"]},"IntentionDto":{"type":"object","properties":{"id":{"type":"string","description":"Intention unique identifier","example":"123e4567-e89b-12d3-a456-426614174000"},"description":{"type":"string","description":"Intention description","example":"Get customer information"},"preprocessingMessage":{"type":"string","description":"Preprocessing message type","enum":["DISABLED","GENERATE","MANUAL"],"example":"DISABLED"},"preprocessingText":{"type":"string","description":"Preprocessing text (when preprocessingMessage is MANUAL)","example":"I need to get customer information"},"type":{"type":"string","description":"Intention type","example":"WEBHOOK"},"httpMethod":{"type":"string","description":"HTTP method","example":"GET"},"url":{"type":"string","description":"Webhook URL","example":"https://example.com/api/customers"},"requestBody":{"type":"string","description":"Request body template","example":"{\"query\": \"{{customerName}}\"}"},"autoGenerateParams":{"type":"boolean","description":"Whether to auto-generate parameters","example":true},"autoGenerateBody":{"type":"boolean","description":"Whether to auto-generate request body","example":true},"fields":{"description":"Fields that the intention needs to collect","type":"array","items":{"$ref":"#/components/schemas/IntentionFieldDto"}},"headers":{"description":"HTTP headers for the webhook","type":"array","items":{"$ref":"#/components/schemas/IntentionHeaderDto"}},"params":{"description":"Parameters for the webhook","type":"array","items":{"$ref":"#/components/schemas/IntentionParamDto"}}},"required":["id","description","preprocessingMessage","type","httpMethod","autoGenerateParams","autoGenerateBody","fields","headers","params"]},"PaginationMetaDto":{"type":"object","properties":{"total":{"type":"number","description":"Total number of items","example":100},"page":{"type":"number","description":"Current page","example":1},"pageSize":{"type":"number","description":"Number of items per page","example":10},"totalPages":{"type":"number","description":"Total number of pages","example":10}},"required":["total","page","pageSize","totalPages"]},"PaginatedIntentionsResponseDto":{"type":"object","properties":{"data":{"description":"List of intention items","type":"array","items":{"$ref":"#/components/schemas/IntentionDto"}},"meta":{"description":"Pagination metadata","allOf":[{"$ref":"#/components/schemas/PaginationMetaDto"}]}},"required":["data","meta"]},"CreateIntentionDto":{"type":"object","properties":{"description":{"type":"string","description":"Intention description","example":"Get customer information"},"preprocessingMessage":{"type":"string","description":"Preprocessing message type","enum":["DISABLED","GENERATE","MANUAL"],"example":"DISABLED"},"preprocessingText":{"type":"string","description":"Preprocessing text (when preprocessingMessage is MANUAL)","example":"I need to get customer information"},"type":{"type":"string","default":"WEBHOOK","description":"Intention type","example":"WEBHOOK"},"httpMethod":{"type":"string","default":"GET","description":"HTTP method","example":"GET"},"url":{"type":"string","description":"Webhook URL","example":"https://example.com/api/customers"},"requestBody":{"type":"string","description":"Request body template","example":"{\"query\": \"{{customerName}}\"}"},"autoGenerateParams":{"type":"boolean","default":true,"description":"Whether to auto-generate parameters","example":true},"autoGenerateBody":{"type":"boolean","default":true,"description":"Whether to auto-generate request body","example":true},"fields":{"description":"Fields that the intention needs to collect","type":"array","items":{"$ref":"#/components/schemas/IntentionFieldDto"}},"headers":{"description":"HTTP headers for the webhook","type":"array","items":{"$ref":"#/components/schemas/IntentionHeaderDto"}},"params":{"description":"Parameters for the webhook","type":"array","items":{"$ref":"#/components/schemas/IntentionParamDto"}}},"required":["description","preprocessingMessage","type","httpMethod"]},"ConversationDto":{"type":"object","properties":{"contextId":{"type":"string","description":"External ID to identify the client","example":"12345"},"prompt":{"type":"string","description":"Text for the agent to respond to","example":"What is your name?"},"callbackUrl":{"type":"string","format":"uri","description":"Callback URL for asynchronous response","example":"https://webhook.site/12345"},"chatName":{"type":"string","description":"Client name","example":"John Doe"},"chatPicture":{"type":"string","format":"uri","description":"Client picture URL","example":"https://example.com/profile.jpg"},"phone":{"type":"string","description":"Client WhatsApp phone number","example":"5511999999999"}},"required":["contextId","prompt"]},"ChannelDto":{"type":"object","properties":{"id":{"type":"string","description":"Channel unique identifier","example":"123e4567-e89b-12d3-a456-426614174000"},"name":{"type":"string","description":"Channel name","example":"WhatsApp Business"},"type":{"type":"string","description":"Channel type","enum":["WHATSAPP","TELEGRAM","MESSENGER","INSTAGRAM","WEBCHAT","EMAIL"],"example":"WHATSAPP"},"connected":{"type":"boolean","description":"Whether the channel is connected","example":true},"config":{"type":"object","description":"Channel configuration","example":{"instanceId":"123456","instanceName":"my-instance","webhookToken":"abc123","webhookUrl":"https://example.com/webhook"}}},"required":["id","name","type","connected","config"]},"PaginatedChannelsResponseDto":{"type":"object","properties":{"data":{"description":"List of channel items","type":"array","items":{"$ref":"#/components/schemas/ChannelDto"}},"meta":{"description":"Pagination metadata","allOf":[{"$ref":"#/components/schemas/PaginationMetaDto"}]}},"required":["data","meta"]},"CreateChannelDto":{"type":"object","properties":{"name":{"type":"string","description":"Channel name","example":"WhatsApp Business"},"type":{"type":"string","description":"Channel type","enum":["WHATSAPP","TELEGRAM","MESSENGER","INSTAGRAM","WEBCHAT","EMAIL"],"example":"WHATSAPP"}},"required":["name","type"]}}}}